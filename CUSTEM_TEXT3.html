<!-- Hello! I am Marc Grabanski, you can find me at -> http://marcgrabanski.com -->
<html>
	<head>
		<title>Google Maps and jQuery</title>
		<!-- http://code.google.com/apis/ajaxlibs/documentation/ -->

		<script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAZBe7uHI90ESk2XAmWRL3RxR6u04U0tImA3bfwZ3-HKdEno7z2xRk2YE6OkudtBX5qy0vLrgbf1DUCg"></script>
		<script type="text/javascript">
		google.load("jquery", '1.3');
		google.load("maps", "2.x");
		</script>
		
		<script type="text/javascript" charset="utf-8">
			$(document).ready(function(){
				var map = new GMap2($("#map").get(0));
				var costarica = new GLatLng(9.63,-84.00);
				map.setCenter(costarica, 8);
				
				// 
				var number=0.1;
				var Lat=9.65;
				var Lon=-83.50;
				var i=0;
				var markers = [];
				for (var i = 0; i < 5; i++) {
					var point= new GLatLng(Lat,Lon);
					marker = new GMarker(point);
					map.addOverlay(marker);
					markers[i] = marker;
					Lat=Lat-2*number;
					Lon=Lon+i*number;
				}
				
				$(markers).each(function(i,marker){
					$("<li />")
						.html("Point "+i)
						.click(function(){
							displayPoint(marker, i);
						})
						.appendTo("#list");
					
					GEvent.addListener(marker, "click", function(){
						displayPoint(marker, i);
					});
				});
				
				$("#message").appendTo(map.getPane(G_MAP_FLOAT_SHADOW_PANE));
				

      					function displayPoint(marker, i){
						map.panTo(marker.getPoint());
						var markerOffset = map.fromLatLngToDivPixel(marker.getPoint());
						$("#message").show().css({ top:markerOffset.y, left:markerOffset.x });
									}
			});
		</script>

		<style type="text/css" media="screen">
			#map { float:left; width:930px; height:595px; }
			#message { position:absolute; padding:10px; background:#555; color:#fff; width:75px; }
			#list { float:left; width:200px; background:#eee; list-style:none; padding:0; }
			#list li { padding:10px; }
			#list li:hover { background:#555; color:#fff; cursor:pointer; cursor:hand; }
		</style>
	</head>
	<body>
		<div id="map"></div>
		<ul id="list"></ul>
		<div id="message" style="display:none;">
			Test text.
		</div>
	</body>

</html>